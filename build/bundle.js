var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t}function i(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}function l(){return e=" ",document.createTextNode(e);var e}function d(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}let f;function p(e){f=e}const m=[],h=[],$=[],v=[],b=Promise.resolve();let g=!1;function B(e){$.push(e)}let w=!1;const y=new Set;function O(){if(!w){w=!0;do{for(let e=0;e<m.length;e+=1){const t=m[e];p(t),x(t.$$)}for(p(null),m.length=0;h.length;)h.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];y.has(t)||(y.add(t),t())}$.length=0}while(m.length);for(;v.length;)v.pop()();g=!1,w=!1,y.clear()}}function x(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const A=new Set;function L(e,t){-1===e.$$.dirty[0]&&(m.push(e),g||(g=!0,b.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _(a,i,c,s,l,d,m=[-1]){const h=f;p(a);const $=i.props||{},v=a.$$={fragment:null,ctx:null,props:d,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:m,skip_bound:!1};let b=!1;if(v.ctx=c?c(a,$,((e,t,...n)=>{const r=n.length?n[0]:t;return v.ctx&&l(v.ctx[e],v.ctx[e]=r)&&(!v.skip_bound&&v.bound[e]&&v.bound[e](r),b&&L(a,e)),t})):[],v.update(),b=!0,r(v.before_update),v.fragment=!!s&&s(v.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);v.fragment&&v.fragment.l(e),e.forEach(u)}else v.fragment&&v.fragment.c();i.intro&&((g=a.$$.fragment)&&g.i&&(A.delete(g),g.i(w))),function(e,n,a){const{fragment:i,on_mount:c,on_destroy:u,after_update:s}=e.$$;i&&i.m(n,a),B((()=>{const n=c.map(t).filter(o);u?u.push(...n):r(n),e.$$.on_mount=[]})),s.forEach(B)}(a,i.target,i.anchor),O()}var g,w;p(h)}function N(t){let n,r,o,a,f,p,m;return{c(){n=s("script"),o=l(),a=s("main"),f=s("canvas"),n.src!==(r="https://cdn.babylonjs.com/viewer/babylon.viewer.js")&&d(n,"src","https://cdn.babylonjs.com/viewer/babylon.viewer.js"),d(f,"id","renderCanvas"),d(f,"class","svelte-xznatn")},m(e,r){var u,s,l,d;i(document.head,n),c(e,o,r),c(e,a,r),i(a,f),t[4](f),p||(u=n,s="load",l=t[1],u.addEventListener(s,l,d),m=()=>u.removeEventListener(s,l,d),p=!0)},p:e,i:e,o:e,d(e){u(n),e&&u(o),e&&u(a),t[4](null),p=!1,m()}}}function C(e,t,n){let{video:r="video360avion480p.mp4"}=t,{cameraType:o="default"}=t,a=null,i=null,c=null,u=null,s=-1;return e.$$set=e=>{"video"in e&&n(2,r=e.video),"cameraType"in e&&n(3,o=e.cameraType)},[c,function(){console.log("demo"),u=new BABYLON.Engine(c,!0),u.setSize(window.innerWidth,window.innerHeight),function(){switch(i=new BABYLON.Scene(u),i.clearColor=new BABYLON.Color3(0,0,0),o){case"oculus":a=new BABYLON.OculusCamera("camera",new BABYLON.Vector3(0,0,0),i);break;case"cardboard":a=new BABYLON.VRDeviceOrientationCamera("camera",new BABYLON.Vector3(0,1,-15),i),a.rotation.x=90;break;case"vr":a=new BABYLON.VirtualJoysticksCamera("camera",BABYLON.Vector3.Zero(),i);break;default:a=new BABYLON.DeviceOrientationCamera("DevOr_camera",new BABYLON.Vector3(0,0,0),i)}a.attachControl(c,!1);var e=new BABYLON.StandardMaterial("sphere",i);e.backFaceCulling=!1,e.emissiveColor=new BABYLON.Color3(1,1,1),e.diffuseTexture=new BABYLON.VideoTexture("video",r,i,!0,!0),i.onPointerDown=function(){s*=-1,1==s?e.diffuseTexture.video.play():e.diffuseTexture.video.pause()},BABYLON.MeshBuilder.CreateSphere("sphere",{diameter:200},i).material=e}(),u.runRenderLoop((function(){i.render()})),window.addEventListener("resize",(function(){u.resize()}))},r,o,function(e){h[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),_(this,e,C,N,a,{video:2,cameraType:3})}}({target:document.body,props:{name:"VR-video Web Component"}})}();
//# sourceMappingURL=bundle.js.map
